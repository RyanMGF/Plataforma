<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desvendando `git add` e `git commit`</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="progress-bar"></div>

    <div class="container">
        <header>
            <h1>Desvendando `git add` e `git commit`: A Dupla Din√¢mica</h1>
            <a href="index.html" id="home-btn" title="Voltar ao in√≠cio">üè†</a>
            <button id="theme-toggle" title="Alterar tema"></button>
        </header>

        <nav id="toc-container" aria-labelledby="toc-heading">
            <h3 id="toc-heading">Nesta Aula</h3>
            <ul id="toc-list"></ul>
        </nav>

        <main>
            <section id="introducao">
                <h2>Os dois passos para salvar seu progresso</h2>
                <p>
                    No Git, salvar seu trabalho n√£o √© um √∫nico passo, mas sim um processo de dois est√°gios. Pense nos comandos <strong>`git add`</strong> e <strong>`git commit`</strong> como uma dupla insepar√°vel. O primeiro comando prepara o que voc√™ quer salvar, e o segundo efetivamente salva, criando um ponto seguro na hist√≥ria do seu projeto.
                </p>
            </section>
            
            <section id="analogia">
                <h2>A Analogia do Est√∫dio de Fotografia</h2>
                <p>Imagine que seu projeto √© uma sess√£o de fotos. Voc√™, o fot√≥grafo, quer criar um √°lbum com fotos perfeitas.</p>
                <div class="analogy">
                    <ul>
                        <li><strong>Seu trabalho (arquivos modificados):</strong> S√£o todas as pessoas e objetos no est√∫dio. Alguns est√£o prontos, outros ainda est√£o se arrumando.</li>
                        <li><strong>`git add` (A √Årea de Prepara√ß√£o):</strong> √â o ato de chamar as pessoas que est√£o prontas para o "palco" da foto. Voc√™ escolhe exatamente quem vai aparecer na imagem.</li>
                        <li><strong>`git commit` (A Foto):</strong> √â o clique da c√¢mera! Voc√™ tira uma foto de todos que est√£o no palco naquele exato momento e a guarda no seu √°lbum (o hist√≥rico do Git), com uma anota√ß√£o atr√°s dizendo o que estava acontecendo.</li>
                        <li><strong>Outra Analogia: O Carrinho de Compras.</strong> Pense nos seus arquivos modificados como os corredores de um supermercado. `git add` √© o ato de colocar um item no seu carrinho. Voc√™ pode colocar quantos itens quiser. `git commit` √© o ato de ir ao caixa e pagar por tudo que est√° no carrinho de uma vez s√≥.</li>
                    </ul>
                </div>
                <div class="code-example">
                    <h4>Diagrama do Fluxo de Trabalho</h4>
                    <pre>1. Arquivos Modificados  ->  2. Staging Area  ->  3. Reposit√≥rio (.git)
(Working Directory)       (git add)         (git commit)</pre>
                    <p>Voc√™ modifica os arquivos (1), escolhe quais ir√£o para o pr√≥ximo save com `git add` (2), e finalmente cria o save permanente com `git commit` (3).</p>
                </div>
            </section>

            <section id="git-add">
                <h2>1. `git add`: Escolhendo o que vai para a foto</h2>
                <p>Este comando pega as altera√ß√µes dos seus arquivos de trabalho e as coloca na <strong>"Staging Area"</strong> (√Årea de Prepara√ß√£o ou Palco). Ele n√£o salva nada permanentemente, apenas seleciona o que ser√° inclu√≠do no pr√≥ximo "save".</p>

                <h3>Seu GPS: `git status`</h3>
                <p>Antes de adicionar qualquer coisa, seu primeiro reflexo deve ser sempre usar o comando <strong>`git status`</strong>. Ele √© o seu "GPS" e te diz exatamente o que est√° acontecendo:</p>
                <ul>
                    <li>Quais arquivos foram modificados mas n√£o est√£o preparados (em vermelho).</li>
                    <li>Quais arquivos j√° est√£o na Staging Area, prontos para o commit (em verde).</li>
                </ul>

                <h3>Como usar o `git add`?</h3>
                
                <h4>Adicionando um arquivo espec√≠fico:</h4>
                <p>Se voc√™ s√≥ quer adicionar as mudan√ßas de um √∫nico arquivo.</p>
                <pre><span class="command">git add</span> <span class="param">nome-do-arquivo.html</span></pre>

                <h4>Adicionando v√°rios arquivos:</h4>
                <p>Voc√™ pode listar quantos arquivos quiser.</p>
                <pre><span class="command">git add</span> <span class="param">arquivo1.css arquivo2.js</span></pre>

                <h4>Adicionando TODOS os arquivos modificados na pasta atual:</h4>
                <p>O ponto `.` √© um atalho para "tudo que est√° aqui". √â o mais comum de se usar.</p>
                <pre><span class="command">git add .</span></pre>

                <h3>Oops, adicionei o arquivo errado! Como reverter?</h3>
                <p>√â muito comum adicionar um arquivo √† Staging Area por engano. Para "tirar do palco" (unstage), use o comando <code>git restore --staged</code>. Isso <strong>n√£o</strong> desfaz suas altera√ß√µes no arquivo, apenas o remove da √°rea de prepara√ß√£o.</p>
                <pre><span class="comment">-- Remove o arquivo da Staging Area, mas mant√©m suas modifica√ß√µes</span>
<span class="command">git restore --staged</span> <span class="param">arquivo-errado.js</span></pre>

                <div class="playground" id="pg-add-status">
                    <h4>Atividade Pr√°tica: O Efeito do `git add`</h4>
                    <p>Simulamos um `git status` antes e depois de rodar `git add .` em dois arquivos. Clique para ver o resultado.</p>
                    <pre>Antes:
  Changes not staged for commit:
    (use "git add <file>..." to update what will be committed)
        modified:   index.html
        modified:   style.css</pre>
                    <button class="btn" data-output-text="Depois:&#10;  Changes to be committed:&#10;    (use 'git restore --staged <file>...' to unstage)&#10;        modified:   index.html&#10;        modified:   style.css">Rodar `git add .` e `git status`</button>
                    <div class="output" aria-live="polite"></div>
                </div>
            </section>
            
            <section id="git-commit">
                <h2>2. `git commit`: Tirando a foto e guardando no √°lbum</h2>
                <p>O comando <code>commit</code> pega tudo que est√° na Staging Area e cria um "checkpoint" permanente no seu hist√≥rico. Cada commit √© um ponto seguro para o qual voc√™ pode voltar no futuro.</p>
                
                <h3>A Anatomia de um Bom Commit</h3>
                <p>Um commit sempre precisa de uma mensagem, que serve como uma legenda para a sua "foto". A flag <code>-m</code> significa "message".</p>
                <pre><span class="command">git commit -m</span> <span class="param">"Adiciona a p√°gina de contato com formul√°rio"</span></pre>

                <h3>Dicas para Mensagens de Commit Perfeitas:</h3>
                <ul>
                    <li><strong>Seja claro e objetivo:</strong> Pense que voc√™ (ou um colega) ler√° isso daqui a 6 meses.</li>
                    <li><strong>Use o modo imperativo:</strong> Escreva como se estivesse dando uma ordem. "Adiciona" em vez de "Adicionei", "Corrige" em vez de "Corrigido".</li>
                    <li><strong>Mantenha a primeira linha curta:</strong> Idealmente, com at√© 50 caracteres.</li>
                    <li><strong>Um commit, uma ideia:</strong> Tente fazer commits pequenos e focados. Se voc√™ fez 3 coisas diferentes, fa√ßa 3 commits diferentes. √â mais f√°cil de entender o hist√≥rico depois.</li>
                </ul>

                <div class="code-example">
                    <h4>Exemplos de Mensagens de Commit</h4>
                    <pre><span class="comment"># MENSAGEM RUIM üëé</span>
git commit -m "mudan√ßas"

<span class="comment"># MENSAGEM BOA üëç</span>
git commit -m "Adiciona valida√ß√£o de e-mail no formul√°rio de contato"</pre>
                </ul>
            </section>
            
            <section id="desafio">
                <h2>Desafio: O Commit Cir√∫rgico!</h2>
                <div class="desafio-container">
                    <p>Voc√™ est√° trabalhando no seu site. Voc√™ fez o seguinte:</p>
                    <ol>
                        <li>Alterou a cor do cabe√ßalho no arquivo <code>estilos.css</code>.</li>
                        <li>Corrigiu um bug no bot√£o de login no arquivo <code>app.js</code>.</li>
                        <li>Criou um arquivo novo chamado <code>rascunho.txt</code> para anotar ideias, mas ele n√£o deve ir para o projeto final ainda.</li>
                    </ol>
                    <p><strong>Sua miss√£o:</strong> Voc√™ quer criar um commit <strong>apenas</strong> com a corre√ß√£o do bug do login. Quais seriam os <strong>dois comandos</strong> exatos para isso?</p>
                    <button onclick="toggleAnswer(this)" class="btn" aria-controls="challenge-answer" aria-expanded="false">Ver Resposta</button>
                    <div id="challenge-answer" style="display: none;">
                        <h4>A sequ√™ncia correta para isolar a mudan√ßa seria:</h4>
                        <ol>
                            <li><strong><code>git add app.js</code></strong>: Voc√™ coloca no "palco" apenas o arquivo com a corre√ß√£o do bug. O <code>estilos.css</code> e o <code>rascunho.txt</code> ficam de fora.</li>
                            <li><strong><code>git commit -m "Corrige bug no bot√£o de login"</code></strong>: Voc√™ tira a foto apenas do que est√° no palco, criando um commit limpo e focado.</li>
                        </ol>
                    </div>
                </div>
            </section>

            <section id="quiz" class="quiz-container">
                <h2>Mini Quiz: Teste seu Racioc√≠nio!</h2>
                <form id="quiz-form">
                    <div class="question">
                        <p>1. Voc√™ modificou tr√™s arquivos: `a.js`, `b.css` e `c.html`. Voc√™ quer criar um commit que contenha APENAS as altera√ß√µes de `a.js` e `c.html`. Qual √© a sequ√™ncia correta de comandos?</p>
                        <div class="options">
                            <label><input type="radio" name="q1" value="a"> a) `git add .` seguido de `git commit -m "minhas altera√ß√µes"`</label>
                            <label><input type="radio" name="q1" value="b"> b) `git add a.js c.html` seguido de `git commit -m "minhas altera√ß√µes"`</label>
                            <label><input type="radio" name="q1" value="c"> c) `git commit -m "minhas altera√ß√µes"` seguido de `git add a.js c.html`</label>
                        </div>
                        <div class="explanation"></div>
                    </div>
                    <div class="question">
                        <p>2. O que a "Staging Area" (palco) permite que um desenvolvedor fa√ßa, que seria imposs√≠vel se o `commit` salvasse todas as modifica√ß√µes de uma s√≥ vez?</p>
                        <div class="options">
                            <label><input type="radio" name="q2" value="a"> a) Ver o hist√≥rico de altera√ß√µes.</label>
                        <label><input type="radio" name="q2" value="b"> b) Criar commits "at√¥micos", ou seja, agrupar logicamente pequenas partes de diferentes arquivos em um √∫nico save tem√°tico.</label>
                            <label><input type="radio" name="q2" value="c"> c) Enviar arquivos para o GitHub.</label>
                        </div>
                        <div class="explanation"></div>
                    </div>
                    <div class="question">
                        <p>3. Voc√™ roda `git add meu-arquivo.txt` e depois percebe que adicionou o arquivo errado. Qual comando voc√™ usaria para "tirar o arquivo do palco" (reverter o `add`) sem perder as modifica√ß√µes que fez nele?</p>
                        <div class="options">
                            <label><input type="radio" name="q3" value="a"> a) `git rm meu-arquivo.txt`</label>
                            <label><input type="radio" name="q3" value="b"> b) `git commit --undo`</label>
                            <label><input type="radio" name="q3" value="c"> c) `git restore --staged meu-arquivo.txt`</label>
                        </div>
                        <div class="explanation"></div>
                    </div>
                    <div class="question">
                        <p>4. Qual das seguintes mensagens de commit √© a mais eficaz e segue as boas pr√°ticas?</p>
                        <div class="options">
                            <label><input type="radio" name="q4" value="a"> a) "Consertei umas coisas"</label>
                            <label><input type="radio" name="q4" value="b"> b) "Adiciona funcionalidade de login de usu√°rio"</label>
                            <label><input type="radio" name="q4" value="c"> c) "Altera√ß√µes no arquivo de login e no css"</label>
                        </div>
                        <div class="explanation"></div>
                    </div>
                     <div class="question">
                        <p>5. Se voc√™ modificar um arquivo, mas esquecer de usar `git add` nele antes de rodar `git commit`, o que acontecer√° com as suas modifica√ß√µes?</p>
                        <div class="options">
                            <label><input type="radio" name="q5" value="a"> a) Elas ser√£o inclu√≠das no commit automaticamente.</label>
                            <label><input type="radio" name="q5" value="b"> b) Elas ser√£o perdidas para sempre.</label>
                            <label><input type="radio" name="q5" value="c"> c) Elas n√£o ser√£o inclu√≠das no commit e permanecer√£o como "modifica√ß√µes n√£o preparadas" (not staged).</label>
                        </div>
                        <div class="explanation"></div>
                    </div>
                    <div class="quiz-controls">
                        <button type="button" class="btn" onclick="checkQuiz()">Verificar Respostas</button>
                        <button type="button" class="btn btn-secondary" id="retake-quiz-btn" onclick="retakeQuiz()">Refazer Quiz</button>
                    </div>
                </form>
                <div id="quiz-result" aria-live="polite"></div>
            </section>

            <section id="proximos-passos">
                <h2>Para ir Al√©m: O Commit Cir√∫rgico com `git add -p`</h2>
                <p>E se voc√™ fez duas altera√ß√µes l√≥gicas diferentes no <strong>mesmo arquivo</strong> e quer separ√°-las em dois commits? √â para isso que serve o modo "patch".</p>
                <ul>
                    <li><strong>O que √©?</strong> O comando <code>git add -p</code> (ou <code>git add --patch</code>) analisa seu arquivo e te pergunta, trecho por trecho, se voc√™ quer adicionar aquela parte espec√≠fica ao commit.</li>
                    <li><strong>Como usar?</strong> Simplesmente rode <code>git add -p nome-do-arquivo.js</code>. O Git te guiar√° por um menu interativo. √â uma ferramenta de n√≠vel profissional para criar um hist√≥rico de commits impec√°vel!</li>
                </ul>
            </section>
        </main>

        <div class="page-navigation">
            <a href="Aula03.html" class="btn btn-secondary">‚Üê Aula Anterior</a>
            <a href="Aula05.html" class="btn">Pr√≥xima Aula ‚Üí</a>
        </div>

        <footer>
            <p>O ciclo `add` -> `commit` √© o cora√ß√£o do Git. Pratique-o at√© se tornar um reflexo e voc√™ ter√° um controle incr√≠vel sobre seus projetos!</p>
            <p><strong>Curiosidade:</strong> O Git foi criado por Linus Torvalds, o mesmo criador do Linux. Ele o desenvolveu em 2005 porque precisava de um sistema melhor para gerenciar o c√≥digo-fonte do Linux!</p>
        </footer>
    </div>

    <script>
        // Defini√ß√£o das respostas corretas para esta aula espec√≠fica
        const correctAnswers = {
            q1: { answer: 'b', explanation: 'O comando `git add` permite especificar exatamente quais arquivos v√£o para a "Staging Area". `git add .` adicionaria todos os tr√™s, o que n√£o √© o desejado neste caso.' },
            q2: { answer: 'b', explanation: 'A Staging Area √© a chave para a cria√ß√£o de commits limpos e l√≥gicos. Voc√™ pode modificar 10 arquivos, mas adicionar apenas 2 deles para criar um commit com o tema "Corrige bug de login", por exemplo.' },
            q3: { answer: 'c', explanation: 'O comando `git restore --staged` √© a forma moderna e segura de remover um arquivo da Staging Area, revertendo o `git add`.' },
            q4: { answer: 'b', explanation: 'Uma boa mensagem de commit √© curta, descritiva e usa o verbo no imperativo (como se desse uma ordem). Ela descreve "o que" o commit faz.' },
            q5: { answer: 'c', explanation: 'O commit s√≥ salva o que est√° na Staging Area. Se voc√™ n√£o usou `git add` no arquivo, ele continua no seu diret√≥rio de trabalho como modificado, mas n√£o far√° parte do "save" (commit).' }
        };
    </script>
    <script src="script.js"></script>

    <button id="back-to-top-btn" title="Voltar ao topo">‚Üë</button>

</body>
</html>
